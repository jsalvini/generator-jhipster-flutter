part of 'settings_bloc.dart';

enum SettingsStatusUI { init, loading, error, done, ok }

class SettingsState extends Equatable {
  final FirstnameInput firstname;
  final LastnameInput lastname;
  final EmailInput email;
  final FormzSubmissionStatus formStatus;
  final bool isValid;
  final SettingsStatusUI settingsStatusUI;
  final String generalNotificationKey;
  final User currentUser;

  const SettingsState({
    this.firstname = const FirstnameInput.pure(),
    this.lastname = const LastnameInput.pure(),
    this.email = const EmailInput.pure(),
    this.settingsStatusUI = SettingsStatusUI.init,
    this.formStatus = FormzSubmissionStatus.initial,
    this.isValid = false,
    this.generalNotificationKey = HttpUtils.generalNoErrorKey,
    this.currentUser = const User(authorities: ['ROLE_USER']),
  });

  SettingsState copyWith({
    FirstnameInput? firstname,
    LastnameInput? lastname,
    EmailInput? email,
    FormzSubmissionStatus? formStatus,
    bool? isValid,
    String? generalNotificationKey,
    SettingsStatusUI? settingsStatusUI,
    User? currentUser,
  }) {
    return SettingsState(
        firstname: firstname ?? this.firstname,
        lastname: lastname ?? this.lastname,
        email: email ?? this.email,
        formStatus: formStatus ?? this.formStatus,
        isValid: isValid ?? this.isValid,
        generalNotificationKey:
            generalNotificationKey ?? this.generalNotificationKey,
        settingsStatusUI: settingsStatusUI ?? this.settingsStatusUI,
        currentUser: currentUser ?? this.currentUser);
  }

  @override
  List<Object> get props => [
        firstname,
        lastname,
        email,
        formStatus,
        isValid,
        generalNotificationKey,
        settingsStatusUI,
        currentUser
      ];
}